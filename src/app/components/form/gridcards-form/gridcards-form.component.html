
<form *ngFor="let option of dataGridCards; let i = index"
      [formGroup]="formgroups[i]"
      [ngxsForm]="option.id"
      [ngClass]="{'active':true}"
      novalidate
      (ngSubmit)="onSubmit(option.id)">
  <span class="h1 icons m-pointer close" (click)="layoutService.setForm(option.id)">close</span>

  <!-- [ngClass]="{'active': option.id === layoutService.getLayoutStatus().formid}" //-->

  <fieldset>
    <legend class="move">{{option.id}}</legend>

    <button (click)="addTheme(option.id)">add theme</button>

    <span>{{option.theme?.selected}}</span>

    <div *ngIf="option.theme">
      <label>{{option.theme.name}}:
        <select [formControlName]="option.theme.name">
          <option
            *ngFor="let theme of themes  | keyvalue"
            [value]="theme.value">
            {{theme.key}}
          </option>
        </select>
      </label>
    </div>

    <hr>

    <div>
      <label>{{option.colums.name}}:
        <input
          [formControlName]="option.colums.name"
          [type]="option.colums.type">
      </label>
    </div>

    <hr>

    <div>
      <label>{{option.cardColumn.first.name}}:
        <input
          [value]="validateCardColums(option.colums.value, option.cardColumn.first.value)"
          [formControlName]="option.cardColumn.first.name"
          [type]="option.cardColumn.first.type"
          min="1"
          [max]="option.colums.value">
      </label>

      <label>{{option.cardColumn.odd.name}}:
        <input
          [value]="validateCardColums(option.colums.value, option.cardColumn.odd.value)"
          [formControlName]="option.cardColumn.odd.name"
          [type]="option.cardColumn.odd.type"
          min="1"
          [max]="option.colums.value">
      </label>

      <label>{{option.cardColumn.even.name}}:
        <input
          [value]="validateCardColums(option.colums.value, option.cardColumn.even.value)"
          [formControlName]="option.cardColumn.even.name"
          [type]="option.cardColumn.odd.type"
          min="1"
          [max]="option.colums.value">
      </label>

      <label>{{option.cardColumn.last.name}}:
        <input
          [value]="validateCardColums(option.colums.value, option.cardColumn.last.value)"
          [formControlName]="option.cardColumn.last.name"
          [type]="option.cardColumn.last.type"
          min="1"
          [max]="option.colums.value">
      </label>
    </div>

    <hr>

    <button class="success" type="submit">Submit {{option.id}}</button>

  </fieldset>

</form>
